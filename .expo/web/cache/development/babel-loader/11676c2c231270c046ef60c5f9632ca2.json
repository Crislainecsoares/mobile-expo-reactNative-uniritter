{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/local/DOMAINNT/crislaines/Documents/trabalho-android-crislaine-soares/mobile/src/pages/Menu.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, useState } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { removeStorageToken } from \"react-native-web/dist/index\";\nimport api from \"../services/api\";\nimport parseErrorStack from 'react-native/Libraries/Core/Devtools/parseErrorStack';\n\nvar Menu = function (_Component) {\n  _inherits(Menu, _Component);\n\n  var _super = _createSuper(Menu);\n\n  function Menu() {\n    var _this;\n\n    _classCallCheck(this, Menu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      loggedInAluno: null,\n      errorMessage: null\n    };\n\n    _this.logado = function _callee() {\n      var _response$data, aluno, token;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _response$data = response.data, aluno = _response$data.aluno, token = _response$data.token;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.multiSet([['@CodeApi:token', token], ['@CodeApi:aluno', JSON.stringify(aluno)]]));\n\n            case 3:\n              _this.setState({\n                loggedInAluno: aluno\n              });\n\n              _this.setState({\n                errorMessage: response.data.error\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.logout = function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.removeItem('@CodeApi:token'));\n\n            case 2:\n              _this.props.navigation.navigate('Home');\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(Menu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var token, aluno;\n      return _regeneratorRuntime.async(function componentDidMount$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('@CodeApi:token'));\n\n            case 2:\n              token = _context3.sent;\n              _context3.t0 = JSON;\n              _context3.next = 6;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('@CodeApi:aluno'));\n\n            case 6:\n              _context3.t1 = _context3.sent;\n              aluno = _context3.t0.parse.call(_context3.t0, _context3.t1);\n              if (token && aluno) this.setState({\n                loggedInAluno: aluno\n              });\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }\n      }, \"Ol\\xE1\"), !!this.state.loggedInAluno && React.createElement(Text, {\n        style: {\n          fontWeight: 'bold',\n          marginTop: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 40\n        }\n      }, this.state.loggedInAluno.nome), !!this.state.errorMessage && React.createElement(Text, {\n        style: {\n          fontWeight: 'bold',\n          marginTop: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 39\n        }\n      }, this.state.errorMessage), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, \" O que deseja fazer? \"), React.createElement(Button, {\n        title: \"Checkin\",\n        onPress: function onPress() {\n          _this2.props.navigation.navigate('Checkin');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }\n      }), React.createElement(Button, {\n        title: \"Checkout\",\n        onPress: function onPress() {\n          _this2.props.navigation.navigate('Checkout');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }), React.createElement(Button, {\n        title: \"Sair\",\n        onPress: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return Menu;\n}(Component);\n\nexport { Menu as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#F5FCFF'\n  }\n});","map":{"version":3,"sources":["/home/local/DOMAINNT/crislaines/Documents/trabalho-android-crislaine-soares/mobile/src/pages/Menu.js"],"names":["React","Component","useState","removeStorageToken","api","parseErrorStack","Menu","state","loggedInAluno","errorMessage","logado","response","data","aluno","token","AsyncStorage","multiSet","JSON","stringify","setState","error","logout","removeItem","props","navigation","navigate","getItem","parse","styles","container","fontWeight","marginTop","nome","StyleSheet","create","flex","justifyContent","alignItems","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\n\nimport {\n  Platform,\n  StyleSheet,\n  Text,\n  View,\n  Button,\n  AsyncStorage,\n  Alert,\n  removeStorageToken,\n} from 'react-native';\n\nimport api from '../services/api';\n\nimport parseErrorStack from 'react-native/Libraries/Core/Devtools/parseErrorStack';\n\nexport default class Menu extends Component {\n  state = {\n    loggedInAluno: null,\n    errorMessage: null,\n  };\n\n  logado = async () => {\n    const { aluno, token } = response.data;\n\n    await AsyncStorage.multiSet([\n      ['@CodeApi:token', token],\n      ['@CodeApi:aluno', JSON.stringify(aluno)],\n    ]);\n\n    this.setState({ loggedInAluno: aluno });\n\n    {\n      this.setState({ errorMessage: response.data.error })\n    }\n\n  };\n\n  async componentDidMount() {\n    const token = await AsyncStorage.getItem('@CodeApi:token');\n    const aluno = JSON.parse(await AsyncStorage.getItem('@CodeApi:aluno'));\n\n    if (token && aluno)\n      this.setState({ loggedInAluno: aluno });\n\n  }\n\n  logout = async () => {\n    await AsyncStorage.removeItem('@CodeApi:token'),\n      this.props.navigation.navigate('Home')\n  };\n\n  render() {\n    return (\n      <View style={styles.container}>\n\n        <Text>Olá</Text>\n        {!!this.state.loggedInAluno && <Text style={{ fontWeight: 'bold', marginTop: 15 }}>{this.state.loggedInAluno.nome}</Text>}\n        {!!this.state.errorMessage && <Text style={{ fontWeight: 'bold', marginTop: 15 }}>{this.state.errorMessage}</Text>}\n\n        <Text> O que deseja fazer? </Text>\n\n        <Button\n          title=\"Checkin\"\n          onPress={() => { this.props.navigation.navigate('Checkin') }}\n        />\n\n        <Button\n          title=\"Checkout\"\n          onPress={() => { this.props.navigation.navigate('Checkout') }}\n        />\n\n        <Button\n          title=\"Sair\"\n          onPress={this.logout}\n        />\n\n      </View>\n    );\n  }\n\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#F5FCFF',\n  },\n});"]},"metadata":{},"sourceType":"module"}